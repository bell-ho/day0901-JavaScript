<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>생성자 함수 이해하기</title>
    <script>
        /*  객체를 생성하는 역할을 하는 함수를 생성자 함수라고 하는데 생성자 함수는
         new 키워드를 사용하지 않으면 일반적인 함수와 동일하게 동작하며 새로운 객체를 반환하지 않는다
         그렇기 때문에 함수명을 대문자로 시작하는 관례를 가진다 */
        function Teacher(name, age, subject) {
            this.name = name;
            this.age = age;
            this.subject = subject;
            this.teach = function (st) {
                console.log(`${st} 에게 ${this.subject} 를 가르친다`);
            };
        }

        //new 키워드와 함께 생성자 함수를 호출하면 생성자 함수 블록이 실행되고 별도의 return문이 없어도 새로운 객체가 반환된다
        const jay = new Teacher('jay', 30, 'java');

        console.log("jay : " + jay);
        jay.teach("bobo");

        console.log("jay.constructor : " + jay.constructor);
        console.log(jay instanceof Teacher);

        /* new키워드를 빼고 Teacher생성자를 호출 이때 생성자 함수의 this는 전역 객체를 가리키게된다
        전역 객체에 name 과 age 그리고 subject속성으로 전달받은 매개변수가 할당된다
        그래서 전역 변수의 age를 참조해 콘솔에 30이 출력됨
        그리고 새로운 객체가 반환되지 않아 jay2는 undefined가 출력됨 */
        const jay2 = Teacher('jay', 30, 'java');
        console.log(jay2);
        console.log(age);
    </script>
</head>

<body>

</body>

</html>